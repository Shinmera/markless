<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Markless Specification</title>
    <style type="text/css">
      body{
          margin: 30px auto 30px auto;
          max-width: 800px;
          font-size: 12pt;
      }
      code{
          font-family: Consolas, Inconsolata, monospace;
          background: #DDD;
          padding: 2px 4px 2px 4px;
          position: relative;
      }
      pre code{
          display: block;
      }
      code.definition::before,code.example::before{
          background: #FFF;
          position: absolute;
          top: 0; right: 0;
          padding: 0 3px 0 3px;
      }
      code.definition::before{content:"Definition";}
      code.example::before{content:"Example";}
    </style>
  </head>
  <body>
    <h1>Markless Specification</h1>
    <ol id="contents">
      <li><a href="#Introduction">Introduction</a></li>
      <li><a href="#Block_Components">Block Components</a>
        <ol>
          <li><a href="#Headers">Headers</a></li>
          <li><a href="#Rules">Rules</a></li>
          <li><a href="#Instructions">Instructions</a></li>
          <li><a href="#Comments">Comments</a></li>
          <li><a href="#Quotes">Quotes</a></li>
          <li><a href="#Code">Code</a></li>
          <li><a href="#Lists">Lists</a></li>
          <li><a href="#Alternates">Alternates</a></li>
          <li><a href="#Paragraphs">Paragraphs</a></li>
        </ol>
      </li>
      <li><a href="#Inline_Components">Inline Components</a>
        <ol>
          <li><a href="#Enclosings">Enclosings</a></li>
          <li><a href="#Singulars">Singulars</a></li>
          <li><a href="#Resources">Resources</a></li>
        </ol>
      </li>
      <li><a href="#Compiler_Instructions">Compiler Instructions</a></li>
      <li><a href="#Glossary">Glossary</a>
        <ul>
          <li><a href="#Glossary/Block">Block</a></li>
          <li><a href="#Glossary/Character">Character</a></li>
          <li><a href="#Glossary/Dash">Dash</a></li>
          <li><a href="#Glossary/Document">Document</a></li>
          <li><a href="#Glossary/Embed">Embed</a></li>
          <li><a href="#Glossary/Initiator">Initiator</a></li>
          <li><a href="#Glossary/Inline">Inline</a></li>
          <li><a href="#Glossary/Line">Line</a></li>
          <li><a href="#Glossary/Link">Link</a></li>
          <li><a href="#Glossary/Markup">Markup</a></li>
          <li><a href="#Glossary/Nesting">Nesting</a></li>
          <li><a href="#Glossary/String">String</a></li>
          <li><a href="#Glossary/Terminator">Terminator</a></li>
          <li><a href="#Glossary/Text">Text</a></li>
          <li><a href="#Glossary/URL">URL</a></li>
        </ul>
      </li>
    </ol>

    <h2 id="Introduction">Introduction</h2>
    <p>
      Markdown and similar ASCII markup languages have a couple of significant
      drawbacks that Markless attempts to avoid. First and foremost, due to the
      big amount of leniency in what is allowed, writing a parser is increasingly
      a pain without bringing much of a benefit for the user in exchange.
      Markless fixes this by following consistent rules for its syntax throughout
      that lower the difficulty of writing a well performing and compliant parser.
      Second, often times rather convenient and easy to implement options seem to
      be left out for no particular reason. Markless therefore attempts to
      include all options that offer a good usage vs. parsing difficulty ratio.
      Third, most languages do not allow inclusion of arbitrary, different
      languages, but rather limit themselves to HTML or some limited subset
      thereof, if any inclusion is allowed at all. Markless allows arbitrary
      languages to be intermixed as long as the compiler supports them.
    </p>
    <p>
      Markless specifies no necessary output format nor an internal representation
      of a Markless document. However, the syntax was specified with HTML output
      in mind, and as such some options may fit more or less well depending on the
      intended output format.
    </p>
    <p>
      Markless is split into two different kinds of markup types. Blocks and Inlines.
      Blocks are all determined by the leading two characters of a line. Depending
      on those two characters, a certain block can be invoked. Inlines on the other
      hand are intended to help mark sections of text within blocks specially. They
      don't all follow a uniform way of markup recognition, but are instead split
      into three different categories.
    </p>
    <p>
      Following from the strict generality of the block syntax, a sane parser
      strategy would be to read the first two chars of a line, determine the current
      block mode, parse the rest of the line according to inline component
      specification and repeat on line break detection.
    </p>

    <h2 id="Block_Components">Block Components</h2>
    <p>
      A block is a segment in the document that groups together a region of characters
      under specified interpretation and representation rules.
    </p>
    <p>
      A block may span any number of lines, but must always begin and end at the
      beginning and end of a line respectively. The beginning and end of a block
      are marked by the initiator and terminator patterns of the block. If the block
      terminator is never recognised, the block terminates at the end of the document.
      Initiators and terminators must be minimally identifiable by the first two
      characters of a line, but may take up more characters if provided and
      specifically allowed by the block definition. If no terminator is specified, the
      block ends at the end of the line before the line that shows the initiator of a
      different block.
    </p>
    <div>
      <h3 id="Headers">Headers</h3>
      <pre><code class="definition">
initiator  ::= "# " | "##"
terminator ::= EOL
      </code></pre>
      <pre><code class="example">
# This is a h1
## This is a h2
### And so on
      </code></pre>
      <p>
      </p>
      
      <h3 id="Rules">Rules</h3>
      <pre><code class="definition">
initiator  ::= "=="
terminator ::= EOL
      </code></pre>
      <pre><code class="example">
==
====
=======
      </code></pre>
      <p>
      </p>
      
      <h3 id="Instructions">Instructions</h3>
      <pre><code class="definition">
initiator  ::= "! "
      </code></pre>
      <pre><code class="example">
! (setf language :markless)
      </code></pre>
      <p>
      </p>
      
      <h3 id="Comments">Comments</h3>
      <pre><code class="definition">
initiator  ::= ";;"
      </code></pre>
      <pre><code class="example">
;; Here we have
;;;; A comment block
      </code></pre>
      <p>
      </p>
      
      <h3 id="Quotes">Quotes</h3>
      <pre><code class="definition">
initiator  ::= "| " | "* "
      </code></pre>
      <pre><code class="example">
| A quote
| | A nested quote

* Author
| A quote with an author header
      </code></pre>
      <p>
      </p>
      
      <h3 id="Code">Code</h3>
      <pre><code class="definition">
initiator  ::= "--"
terminator ::= "--"
      </code></pre>
      <pre><code class="example">
-- common-lisp
#1=(lisp . #1#)
--
      </code></pre>
      <p>
      </p>
      
      <h3 id="Lists">Lists</h3>
      <pre><code class="definition">
initiator  ::= (number " ") | ". "
      </code></pre>
      <pre><code class="example">
1 A numbered list
2 which can span
  multiple lines
3 1 and nest
  2 the way you would expect

. This is an unordered list
. of two items.
      </code></pre>
      <p>
      </p>
      
      <h3 id="Alternates">Alternates</h3>
      <pre><code class="definition">
initiator  ::= "/ "
terminator ::= "\ "
      </code></pre>
      <pre><code class="example">
/ HTML
&lt;a href="foo"&gt;FOO!&lt;/a&gt;
\ HTML
      </code></pre>
      <p>
      </p>
      
      <h3 id="Paragraphs">Paragraphs</h3>
      <pre><code class="definition">
initiator  --- None needed
      </code></pre>
      <pre><code class="example">
This is a paragraph

  And this is a new paragraph, which
  contains two lines.
      </code></pre>
      <p>
      </p>
    </div>

    <h2 id="Inline_Components">Inline Components</h2>
    <p>
    </p>
    <div>
      <h3 id="Enclosings">Enclosings</h3>
      <p>
      </p>
      <div>
        <h4>Bold</h4>
        <pre><code class="example">*bold*</code></pre>
        <p></p>
        
        <h4>Italics</h4>
        <pre><code class="example">/italics/</code></pre>
        <p></p>
        
        <h4>Underline</h4>
        <pre><code class="example">_underline_</code></pre>
        <p></p>
        
        <h4>Overline</h4>
        <pre><code class="example">‾overline‾</code></pre>
        <p></p>
        
        <h4>Strikethrough</h4>
        <pre><code class="example">-strikethrough-</code></pre>
        <p></p>
        
        <h4>Code</h4>
        <pre><code class="example">`code`</code></pre>
        <p></p>
      </div>
      
      <h3 id="Singulars">Singulars</h3>
      <p>
      </p>
      <div>
        <h4>Subtext</h4>
        <pre><code class="example">v[subtext]</code></pre>
        <p></p>
        
        <h4>Supertext</h4>
        <pre><code class="example">^[supertext]</code></pre>
        <p></p>
        
        <h4>Spoiler</h4>
        <pre><code class="example">|?spoiler?|</code></pre>
        <p></p>
      </div>
      
      <h3 id="Resources">Resources</h3>
      <pre><code class="example">
[a label](a resource)
&lt;a type&gt;(a resource)
      </code></pre>
      <p>
      </p>
    </div>

    <h2 id="Compiler_Instructions">Compiler Instructions</h2>
    <p>
    </p>

    <h2 id="Glossary">Glossary</h2>
    <p>
    </p>
    <div>
      <h3 id="Glossary/"></h3>
      <p></p>
      
      <h3 id="Glossary/"></h3>
      <p></p>
    </div>
  </body>
</html>
